---
title: "n8n をやめて Hono + BullMQ に移行した"
categories:
    - blog
tags:
    - apps
toc: true
---

以前、[n8n の self-hosting のすすめ](/blog/n8n/)という記事を書きました。
自宅NAS（Synology DS920+）上で n8n を動かし、家庭内のちょっとした自動化に活用していたのですが、2026年1月に n8n をやめ、Hono + BullMQ による TypeScript ベースの構成に移行しました。

# 移行先の構成

[Hono](https://hono.dev/) は軽量なHTTPサーバーフレームワーク、[BullMQ](https://docs.bullmq.io/) は Redis ベースのジョブキューライブラリです。
BullMQ でスケジュール実行（cron）を、Hono で Webhook の受け付けを担当しています。

現在動いているワークフローの例です。

- **RSSフィード監視**: フィードを定期取得し、新着記事を Gemini で要約して Discord / LINE に通知
- **天気予報**: 天気と洗濯指数を取得・加工し、Discord に通知
- **睡眠・起床連携**: Sleep as Android の Webhook をトリガーに、SwitchBot シーリングライトの ON/OFF や Discord への通知

n8n の記事でも紹介した睡眠・起床のワークフローなど、やっていることはほぼ同じです。

# なぜ移行したか

一言でいうと、AIコーディングツールの進化で「コードを書く」コストが劇的に下がったからです。

元記事（2024年9月）では、こう書いていました。

> コード生成（プロンプトを組み立て、コードを生成させ、動作を検証し、実行環境を整えてデプロイする）する方法よりも早く目的の処理を実現できました。

当時は GitHub Copilot や Cursor 等でコードを生成していましたが、プロンプトの組み立て、生成されたコードの検証、実行環境の整備、デプロイと、ステップごとに人間の手が多く入りました。
n8n なら GUI でノードを繋いでいくだけなので、たしかに早かったのです。

しかし2026年現在、Claude Code に簡潔な依頼を投げるだけで、サービス公式のライブラリを探し、ドキュメントを読み、実装、テスト、デプロイ、ローカルのドキュメント更新までを一貫してやれるようになりました。
「コードを書く」側のハードルが大きく下がったことで、n8n を使う最大の動機がなくなりました。

# n8n の組み込みノード、実際どれくらい使う？

n8n は500を超える組み込み integrations を持っています。これは大きな魅力です。
ただ、実際に自分が使ったのはそのうちのごくわずかでした。

加えて、当然ながら未対応のサービスも多くあります。対応しているサービスでも、メジャーではない機能や新しく追加されたばかりの機能には非対応ということも珍しくありません。AI関連のサービスは特に変化が速いので、追いつくのは難しいでしょう。

結局、HTTP Request ノードで API を直接叩き、Edit ノードや Code ノードで加工する、という組み合わせになりがちでした。
しかし、そのために各社の API ドキュメントを調べてフローに落とし込む作業もなかなかの手間です。
それならサービス公式のライブラリを `npm install` して使った方が、圧倒的に早いと感じました。

# GUI ワークフローと AI の相性

GUIベースのワークフロー構築やデバッグは、AIに任せにくいと感じました。
n8n-mcp のようなツールもありますが、それよりは素朴でスタンダードな TypeScript のコードを AI に書かせて、普通にテストを書いて実行する方が楽で速いです。

n8n の Code ノード内にコードを書くこともできますが、実ファイルのコードならエディタの恩恵をフルに受けられますし、テストも自然に書けます。

# 「妻でも編集できる」のその後

n8n の導入時は、コーディングが不慣れな妻でも GUI で編集できることをメリットとして挙げていました。

> n8nのGUIはわかりやすいのでコーディングが不慣れな方にもワークフローを編集してもらうことができました。

今では、妻も Claude Code を使って開発するようになりました。
人も、AIも、成長しました。

# リソース面の変化

メモリ使用量は n8n の約350MBに対して、移行後は50MB以下になりました。

Redisに関しては一つ注意点があり、デフォルト設定のまま起動すると、ほぼ待機状態のシステムにしては意外とCPU負荷がありました。
これは Redis の `hz` パラメータ（内部処理の実行頻度）がデフォルトで10に設定されているためです。`hz 1` に変更したところ、n8n コンテナ単体と同程度の CPU 使用率に落ち着きました。

![Redis hz変更前後のCPU使用率](/assets/2026/2026-02-23-n8n-to-hono-bullmq/redis-cpu.png)

# さいごに

n8n は視覚的なわかりやすさや実行履歴の管理など、優れた点が多いツールです。
今回の移行はあくまで、AIツールの進化で前提が変わった結果の、個人的な判断です。

元記事ではこうも書いていました。

> n8nを超えるとしたら、もっとAIが活用されるようになるのかなと思います。

まさにそうなりました。ただし、n8n の中に AI が組み込まれるという形ではなく、AI がコードを書けるようになったことで n8n 自体が不要になる、という形で。
